(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{uP:()=>v,id:()=>p,tq:()=>u,yU:()=>m,fQ:()=>s,b0:()=>y});const n=document.querySelector("#task-name"),o=document.querySelector("#task-desc"),l=document.querySelector("#task-date"),c=document.querySelector("#task-priority"),a=document.querySelector("#task-project"),r=document.querySelector("#task-btn"),i=e=>{const n=s(),o=m(),l=document.querySelector("#content"),c=document.createElement("div");c.classList.add("modal"),c.id="taskModal";const a=document.createElement("div");a.classList.add("modalContent");const r=document.createElement("span");r.classList.add("close"),r.innerText="X";const i=document.createElement("input");i.value=n[e].name,i.id="editingName";const p=document.createElement("input");p.value=n[e].desc,p.id="editingDesc";const y=document.createElement("input");y.type="date",y.value=n[e].date,y.id="editingDate";const v=document.createElement("select"),S=document.createElement("option");S.innerText="Normal";const g=document.createElement("option");g.innerText="Urgent";const k=document.createElement("option");k.innerText="Later",v.append(S,g,k),v.value=n[e].priority,v.id="editingPriority";const q=document.createElement("select");for(let e=0;e<o.length;e+=1){const t=document.createElement("option");t.innerText=o[e].name,q.append(t)}q.value=n[e].project,q.id="editingProject",a.appendChild(q),a.appendChild(v),a.appendChild(y),a.appendChild(p),a.appendChild(i),a.appendChild(r),c.appendChild(a),l.appendChild(c);const E=document.querySelector(".modal");E.style.display="block",r.onclick=()=>{E.style.display="none",c.remove()};const h=document.createElement("button");h.type="button",h.innerText="Delete",a.appendChild(h),h.addEventListener("click",(()=>{(e=>{const n=s();n.splice(e,1),u(n),(0,t.displayAll)()})(e),c.remove()}));const f=document.createElement("button");f.type="button",f.innerText="Save",a.appendChild(f),f.addEventListener("click",(()=>{d(e),c.remove()}))},d=e=>{const n=document.querySelector("#editingName"),o=document.querySelector("#editingDesc"),l=document.querySelector("#editingDate"),c=document.querySelector("#editingPriority"),a=document.querySelector("#editingProject"),r=(n.value,o.value,l.value,c.value,void a.value),i=s();i[e]=r,u(i),(0,t.displayAll)()},s=()=>JSON.parse(localStorage.getItem("tasks")),u=e=>{localStorage.setItem("tasks",JSON.stringify(e))},m=()=>JSON.parse(localStorage.getItem("projects")),p=e=>{localStorage.setItem("projects",JSON.stringify(e))},y=e=>{if(null===e.value||""===e.value)return alert("Please fill the required fields"),!0},v=e=>{const t=e.map((e=>`<div class='d-flex f-column taskWrapper'>\n      <div class='singleTask d-flex'>\n        <div>\n            <h3>${e.name}</h3>\n            <p>${e.date.slice(5)}</p>\n        </div>\n      </div>\n      <div class='hiddenItems'>\n        <p>${e.desc}</p>\n        <p>${e.priority}</p>\n        <p>${e.project}</p>\n      </div>\n    </div>`)).join("\n");document.querySelector("#tasks-container").innerHTML=t,k(),S(),g()},S=()=>{const e=document.querySelectorAll(".singleTask");for(let t=0;t<e.length;t+=1){const n=document.createElement("span");n.innerText="visibility",n.classList.add("showTaskBtn","material-icons"),e[t].appendChild(n)}},g=()=>{const e=document.querySelectorAll(".singleTask");for(let t=0;t<e.length;t++){const n=document.querySelectorAll(".showTaskBtn");n[t].addEventListener("click",(()=>{const o=e[t].nextElementSibling;"block"===o.style.display?(n[t].innerText="visibility",n[t].classList.add("material-icons"),o.style.display="none"):(n[t].innerText="visibility_off",n[t].classList.add("material-icons"),o.style.display="block")}))}},k=()=>{const e=document.querySelectorAll(".singleTask");for(let t=0;t<e.length;t+=1){const n=document.createElement("span");n.innerText="edit",n.classList.add("material-icons","editTaskBtn"),n.addEventListener("click",(()=>{i(t)})),e[t].appendChild(n)}},q=new Date,E=()=>{const e=s();v(e)},h=()=>{const e=document.querySelectorAll(".projectBtn");for(let t=0;t<e.length;t+=1)e[t].addEventListener("click",(()=>{var n;0!==(n=JSON.parse(localStorage.getItem("tasks")).filter((n=>{if(n.project===e[t].innerText)return n}))).length?v(n):document.querySelector("#tasks-container").innerHTML="<h2>No tasks created</h2>"}))},f=document.querySelector("#project-btn"),b=document.querySelector("#new-project"),L=()=>{const e=m().map((e=>`<button class='projectBtn' >${e.name}</button>`)).join("\n");document.querySelector("#projects-container").innerHTML=e},T=()=>{const e=m(),t=document.querySelector("#task-project"),n=e.map((e=>`<option id='${e.name}'>${e.name}</option>`));t.innerHTML=n};window.addEventListener("load",(()=>{null===JSON.parse(localStorage.getItem("projects"))&&localStorage.setItem("projects",JSON.stringify([{name:"Inbox"}])),null===JSON.parse(localStorage.getItem("tasks"))&&localStorage.setItem("tasks",JSON.stringify([])),L(),E(),T(),f.addEventListener("click",(()=>{y(b)||((e=>{const t=e,n=m();n.push(t),p(n),b.value=""})(b.value),L(),T(),h())})),r.addEventListener("click",(()=>{y(n)||(((e,t,a,r,i)=>{const d=s();d.push(void 0),u(d),n.value="",o.value="",l.value="",c.value=""})(n.value,o.value,l.value,c.value,a.value),(0,t.displayAll)())})),h(),(()=>{const e=document.querySelector("#openProjectModal"),t=document.querySelector(".projectModal");e.addEventListener("click",(()=>{t.style.display="block"})),document.querySelector(".closeProject").addEventListener("click",(()=>{t.style.display="none"}))})(),(()=>{const e=document.querySelector("#openTaskModal"),t=document.querySelector(".taskModal");e.addEventListener("click",(()=>{t.style.display="block"})),document.querySelector(".closeTask").addEventListener("click",(()=>{t.style.display="none"}))})(),document.querySelector("#pastBtn").addEventListener("click",(()=>{(()=>{const e=s().filter((e=>e.date.slice(8)<q.getDate().toString()&&e.date.slice(5,7)<(q.getMonth()+1).toString()||e.date.slice(0,4)<q.getFullYear()));v(e)})()})),document.querySelector("#todayBtn").addEventListener("click",(()=>{(()=>{const e=s().filter((e=>e.date.slice(8)===q.getDate().toString()));v(e)})()})),document.querySelector("#allBtn").addEventListener("click",(()=>{E()}))}))})();
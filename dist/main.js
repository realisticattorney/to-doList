(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{uP:()=>v,id:()=>y,tq:()=>p,yU:()=>m,fQ:()=>u,b0:()=>S});const n=document.querySelector("#task-name"),o=document.querySelector("#task-desc"),l=document.querySelector("#task-date"),c=document.querySelector("#task-priority"),r=document.querySelector("#task-project"),a=document.querySelector("#task-btn"),d=(e,t,n,o,l)=>({name:e,desc:t,date:n,priority:o,project:l}),s=e=>{const n=u(),o=m(),l=document.querySelector("#content"),c=document.createElement("div");c.classList.add("modal"),c.id="taskModal";const r=document.createElement("div");r.classList.add("modalContent");const a=document.createElement("span");a.classList.add("close"),a.innerText="X";const d=document.createElement("input");d.value=n[e].name,d.id="editingName";const s=document.createElement("input");s.value=n[e].desc,s.id="editingDesc";const y=document.createElement("input");y.type="date",y.value=n[e].date,y.id="editingDate";const S=document.createElement("select"),v=document.createElement("option");v.innerText="Normal";const g=document.createElement("option");g.innerText="Urgent";const k=document.createElement("option");k.innerText="Later",S.append(v,g,k),S.value=n[e].priority,S.id="editingPriority";const q=document.createElement("select");for(let e=0;e<o.length;e+=1){const t=document.createElement("option");t.innerText=o[e].name,q.append(t)}q.value=n[e].project,q.id="editingProject",r.appendChild(q),r.appendChild(S),r.appendChild(y),r.appendChild(s),r.appendChild(d),r.appendChild(a),c.appendChild(r),l.appendChild(c);const h=document.querySelector(".modal");h.style.display="block",a.onclick=()=>{h.style.display="none",c.remove()};const E=document.createElement("button");E.type="button",E.innerText="Delete",r.appendChild(E),E.addEventListener("click",(()=>{(e=>{const n=u();n.splice(e,1),p(n),(0,t.displayAll)()})(e),c.remove()}));const T=document.createElement("button");T.type="button",T.innerText="Save",r.appendChild(T),T.addEventListener("click",(()=>{i(e),c.remove()}))},i=e=>{const n=document.querySelector("#editingName"),o=document.querySelector("#editingDesc"),l=document.querySelector("#editingDate"),c=document.querySelector("#editingPriority"),r=document.querySelector("#editingProject"),a=d(n.value,o.value,l.value,c.value,r.value),s=u();s[e]=a,p(s),(0,t.displayAll)()},u=()=>JSON.parse(localStorage.getItem("tasks")),p=e=>{localStorage.setItem("tasks",JSON.stringify(e))},m=()=>JSON.parse(localStorage.getItem("projects")),y=e=>{localStorage.setItem("projects",JSON.stringify(e))},S=e=>{if(null===e.value||""===e.value)return alert("Please fill the required fields"),!0},v=e=>{const t=e.map((e=>`<div class='d-flex f-column taskWrapper'>\n      <div class='singleTask d-flex'>\n        <div>\n            <h3>${e.name}</h3>\n            <p>${e.date.slice(5)}</p>\n        </div>\n      </div>\n      <div class='hiddenItems'>\n        <p>${e.desc}</p>\n        <p>${e.priority}</p>\n        <p>${e.project}</p>\n      </div>\n    </div>`)).join("\n");document.querySelector("#tasks-container").innerHTML=t,q(),g(),k()},g=()=>{const e=document.querySelectorAll(".singleTask");for(let t=0;t<e.length;t+=1){const n=document.createElement("span");n.innerText="show",n.classList.add("showTaskBtn"),e[t].appendChild(n)}},k=()=>{const e=document.querySelectorAll(".singleTask");for(let t=0;t<e.length;t++){const n=document.querySelectorAll(".showTaskBtn");n[t].addEventListener("click",(()=>{const o=e[t].nextElementSibling;"block"===o.style.display?(n[t].innerText="show",o.style.display="none"):(n[t].innerText="hide",o.style.display="block")}))}},q=()=>{const e=document.querySelectorAll(".singleTask");for(let t=0;t<e.length;t+=1){const n=document.createElement("span");n.innerText="edit",n.classList.add("material-icons","editTaskBtn"),n.addEventListener("click",(()=>{s(t)})),e[t].appendChild(n)}},h=new Date,E=()=>{const e=u();v(e)},T=()=>{const e=document.querySelectorAll(".projectBtn");for(let t=0;t<e.length;t+=1)e[t].addEventListener("click",(()=>{var n;0!==(n=JSON.parse(localStorage.getItem("tasks")).filter((n=>{if(n.project==e[t].innerText)return n}))).length?v(n):document.querySelector("#tasks-container").innerHTML="<h2>No tasks created</h2>"}))},f=document.querySelector("#project-btn"),j=document.querySelector("#new-project"),L=()=>{const e=m().map((e=>`<button class='projectBtn' >${e.name}</button>`)).join("\n");document.querySelector("#projects-container").innerHTML=e},b=()=>{const e=m(),t=document.querySelector("#task-project"),n=e.map((e=>`<option id='${e.name}'>${e.name}</option>`));t.innerHTML=n};window.addEventListener("load",(()=>{null===JSON.parse(localStorage.getItem("projects"))&&localStorage.setItem("projects",JSON.stringify([{name:"Inbox"}])),null===JSON.parse(localStorage.getItem("tasks"))&&localStorage.setItem("tasks",JSON.stringify(new Array)),L(),E(),b(),f.addEventListener("click",(()=>{S(j)||((e=>{const t=(e=>({name:e}))(e),n=m();n.push(t),y(n),j.value=""})(j.value),L(),b(),T())})),a.addEventListener("click",(()=>{S(n)||(((e,t,r,a,s)=>{const i=d(e,t,r,a,s),m=u();m.push(i),p(m),n.value="",o.value="",l.value="",c.value=""})(n.value,o.value,l.value,c.value,r.value),(0,t.displayAll)())})),T(),(()=>{const e=document.querySelector("#openProjectModal"),t=document.querySelector(".projectModal");e.addEventListener("click",(()=>{t.style.display="block"})),document.querySelector(".closeProject").addEventListener("click",(()=>{t.style.display="none"}))})(),(()=>{const e=document.querySelector("#openTaskModal"),t=document.querySelector(".taskModal");e.addEventListener("click",(()=>{t.style.display="block"})),document.querySelector(".closeTask").addEventListener("click",(()=>{t.style.display="none"}))})(),document.querySelector("#pastBtn").addEventListener("click",(()=>{(()=>{const e=u().filter((e=>e.date.slice(8)<h.getDate().toString()&&e.date.slice(5,7)<(h.getMonth()+1).toString()||e.date.slice(0,4)<h.getFullYear()));v(e)})()})),document.querySelector("#todayBtn").addEventListener("click",(()=>{(()=>{const e=u().filter((e=>e.date.slice(8)===h.getDate().toString()));v(e)})()})),document.querySelector("#allBtn").addEventListener("click",(()=>{E()}))}))})();
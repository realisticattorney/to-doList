(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{uP:()=>v,id:()=>y,tq:()=>m,yU:()=>p,fQ:()=>u,b0:()=>S});const n=document.querySelector("#task-name"),o=document.querySelector("#task-desc"),l=document.querySelector("#task-date"),c=document.querySelector("#task-priority"),a=document.querySelector("#task-project"),r=document.querySelector("#task-btn"),i=(e,t,n,o,l)=>({name:e,desc:t,date:n,priority:o,project:l}),d=e=>{const n=u(),o=p(),l=document.querySelector("#content"),c=document.createElement("div");c.classList.add("modal"),c.id="taskModal";const a=document.createElement("div");a.classList.add("modalContent");const r=document.createElement("span");r.classList.add("close"),r.innerText="X";const i=document.createElement("input");i.value=n[e].name,i.id="editingName";const d=document.createElement("input");d.value=n[e].desc,d.id="editingDesc";const y=document.createElement("input");y.type="date",y.value=n[e].date,y.id="editingDate";const S=document.createElement("select"),v=document.createElement("option");v.innerText="Normal";const g=document.createElement("option");g.innerText="Urgent";const k=document.createElement("option");k.innerText="Later",S.append(v,g,k),S.value=n[e].priority,S.id="editingPriority";const q=document.createElement("select");for(let e=0;e<o.length;e+=1){const t=document.createElement("option");t.innerText=o[e].name,q.append(t)}q.value=n[e].project,q.id="editingProject",a.appendChild(q),a.appendChild(S),a.appendChild(y),a.appendChild(d),a.appendChild(i),a.appendChild(r),c.appendChild(a),l.appendChild(c);const E=document.querySelector(".modal");E.style.display="block",r.onclick=()=>{E.style.display="none",c.remove()};const h=document.createElement("button");h.type="button",h.innerText="Delete",a.appendChild(h),h.addEventListener("click",(()=>{(e=>{const n=u();n.splice(e,1),m(n),(0,t.displayAll)()})(e),c.remove()}));const b=document.createElement("button");b.type="button",b.innerText="Save",a.appendChild(b),b.addEventListener("click",(()=>{s(e),c.remove()}))},s=e=>{const n=document.querySelector("#editingName"),o=document.querySelector("#editingDesc"),l=document.querySelector("#editingDate"),c=document.querySelector("#editingPriority"),a=document.querySelector("#editingProject"),r=i(n.value,o.value,l.value,c.value,a.value),d=u();d[e]=r,m(d),(0,t.displayAll)()},u=()=>JSON.parse(localStorage.getItem("tasks")),m=e=>{localStorage.setItem("tasks",JSON.stringify(e))},p=()=>JSON.parse(localStorage.getItem("projects")),y=e=>localStorage.setItem("projects",JSON.stringify(e)),S=e=>(null===e.value||""===e.value)&&(alert("Please fill the required fields"),!0),v=e=>{const t=e.map((e=>`<div class='d-flex f-column taskWrapper'>\n      <div class='singleTask d-flex'>\n        <div>\n            <h3>${e.name}</h3>\n            <p>${e.date.slice(5)}</p>\n        </div>\n      </div>\n      <div class='hiddenItems'>\n        <p>${e.desc}</p>\n        <p>${e.priority}</p>\n        <p>${e.project}</p>\n      </div>\n    </div>`)).join("\n");document.querySelector("#tasks-container").innerHTML=t,(()=>{const e=document.querySelectorAll(".singleTask");for(let t=0;t<e.length;t+=1){const n=document.createElement("span");n.innerText="edit",n.classList.add("material-icons","editTaskBtn"),n.addEventListener("click",(()=>{d(t)})),e[t].appendChild(n)}})(),(()=>{const e=document.querySelectorAll(".singleTask");for(let t=0;t<e.length;t+=1){const n=document.createElement("span");n.innerText="visibility",n.classList.add("showTaskBtn","material-icons"),e[t].appendChild(n)}})(),(()=>{const e=document.querySelectorAll(".singleTask");for(let t=0;t<e.length;t+=1){const n=document.querySelectorAll(".showTaskBtn");n[t].addEventListener("click",(()=>{const o=e[t].nextElementSibling;"block"===o.style.display?(n[t].innerText="visibility",n[t].classList.add("material-icons"),o.style.display="none"):(n[t].innerText="visibility_off",n[t].classList.add("material-icons"),o.style.display="block")}))}})()},g=new Date,k=()=>{const e=u();v(e)},q=()=>{const e=document.querySelectorAll(".projectBtn");for(let t=0;t<e.length;t+=1)e[t].addEventListener("click",(()=>{var n;0!==(n=JSON.parse(localStorage.getItem("tasks")).filter((n=>{if(n.project===e[t].innerText)return n}))).length?v(n):document.querySelector("#tasks-container").innerHTML="<h2>No tasks created</h2>"}))},E=document.querySelector("#project-btn"),h=document.querySelector("#new-project"),b=()=>{const e=p().map((e=>`<button class='projectBtn' >${e.name}</button>`)).join("\n");document.querySelector("#projects-container").innerHTML=e},f=()=>{const e=p(),t=document.querySelector("#task-project"),n=e.map((e=>`<option id='${e.name}'>${e.name}</option>`));t.innerHTML=n};window.addEventListener("load",(()=>{null===JSON.parse(localStorage.getItem("projects"))&&localStorage.setItem("projects",JSON.stringify([{name:"Inbox"}])),null===JSON.parse(localStorage.getItem("tasks"))&&localStorage.setItem("tasks",JSON.stringify([])),b(),k(),f(),E.addEventListener("click",(()=>{S(h)||((e=>{const t=e,n=p();n.push(t),y(n),h.value=""})(h.value),b(),f(),q())})),r.addEventListener("click",(()=>{S(n)||(((e,t,a,r,d)=>{const s=i(e,t,a,r,d),p=u();p.push(s),m(p),n.value="",o.value="",l.value="",c.value=""})(n.value,o.value,l.value,c.value,a.value),(0,t.displayAll)())})),q(),(()=>{const e=document.querySelector("#openProjectModal"),t=document.querySelector(".projectModal");e.addEventListener("click",(()=>{t.style.display="block"})),document.querySelector(".closeProject").addEventListener("click",(()=>{t.style.display="none"}))})(),(()=>{const e=document.querySelector("#openTaskModal"),t=document.querySelector(".taskModal");e.addEventListener("click",(()=>{t.style.display="block"})),document.querySelector(".closeTask").addEventListener("click",(()=>{t.style.display="none"}))})(),document.querySelector("#pastBtn").addEventListener("click",(()=>{(()=>{const e=u().filter((e=>e.date.slice(8)<g.getDate().toString()&&e.date.slice(5,7)<(g.getMonth()+1).toString()||e.date.slice(0,4)<g.getFullYear()));v(e)})()})),document.querySelector("#todayBtn").addEventListener("click",(()=>{(()=>{const e=u().filter((e=>e.date.slice(8)===g.getDate().toString()&&e.date.slice(5,7)===(g.getMonth()+1).toString()));v(e)})()})),document.querySelector("#allBtn").addEventListener("click",(()=>{k()}))}))})();